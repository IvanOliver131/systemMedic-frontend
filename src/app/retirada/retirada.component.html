<app-sidebar></app-sidebar>
<div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Controle de Retirada</h5>

      <label class="text-input">Paciente</label>
      <select class="form-select form-control" aria-label="Default select example" [(ngModel)]="pacient.id">
        <option *ngFor="let pacient of allPacientLst" [ngValue]="pacient.id">{{pacient.name}}</option>
      </select> 

      <div style="display: flex; align-items: center;" *ngFor="let i of medicines; let j = index">
        <label class="text-input">Medicamento</label>
        <select class="form-select form-control" aria-label="Default select example" [(ngModel)]="lstMedicine[j].id_medicine">
          <option *ngFor="let medicine of allMedicineLst" [ngValue]="medicine.id">{{medicine.name}}</option>
        </select> 

        <label class="text-input">Quantidade</label>
        <input type="number" class="form-control" placeholder="Informe a quantidade" [(ngModel)]="lstMedicine[j].qtd_medicine"> 
      </div>
    
      <div style="text-align: end;">
        <button type="button" class="btn btn-danger" (click)="removeMedicine()"> <i class="uil uil-minus-circle"></i> </button>
        <button type="button" class="btn btn-primary" (click)="addMedicine()"> <i class="uil uil-plus-circle"></i> </button>
        <button type="button" class="btn btn-danger" (click)="removeRetirada()">Deletar</button>
        <button type="button" class="btn btn-success" (click)="addRetirada()">Cadastrar</button>   
      </div>     
    </div>

  </div>

  <!-- <div class="d-flex justify-content-center px-5">
    <div class="search"> 
      <input type="text" class="search-input" placeholder="Procurar..." name="" id="datatable-search-input"> 
      <a href="#" class="search-icon"> 
        <i class="fa fa-search"></i> 
      </a> 
    </div>
  </div> -->

  <div class="container scroll">
    <table class="table table-responsive" >
        <thead style="background-color: #70A0FF;">
            <tr>
                <th scope="col" class="title-table">ID_Paciente</th>
                <th scope="col" class="title-table">Paciente</th>
                <th scope="col" class="title-table">ID_Medicamento</th>
                <th scope="col" class="title-table">Medicmento</th>
                <th scope="col" class="title-table">Quantidade</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let qtd of allRetiradaLst, let i = index">
                <td class="text-table">{{qtd.id_pacient}}</td>
                <td class="text-table">{{qtd.name}}</td>
                <td class="text-table">{{qtd.id_medicine}}</td>
                <td class="text-table">{{qtd.medicines.name}}</td>
                <td class="text-table">{{qtd.qtd_medicine}}</td>
                <!-- <span type="text" class="btn button-delete" style="margin-left: 20px; margin-top: 3px; border: none; background-color:#d9534f; color: white;"
                    (click)="deleteMedicine(allMedicineLst[i])"><i class="uil uil-trash-alt"></i></span>
                    
                <span type="text" class="btn button-update" style="margin-left: 5px; margin-top: 3px; border: none; background-color: #0275d8; color: white;"
                    (click)="setMedicine(allMedicineLst[i])"><i class="uil uil-edit"></i></span> -->
            </tr>
        </tbody>
    </table>
  </div>
</div>

